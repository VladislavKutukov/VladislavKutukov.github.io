"use strict";(self.webpackChunkmy_button_project=self.webpackChunkmy_button_project||[]).push([[6422],{"./src/ant/components/Table/tables.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Common:()=>Common,DraggableTable:()=>DraggableTable,FilterTable:()=>FilterTable,PaginationTable:()=>PaginationTable,SearchTable:()=>SearchTable,SortTable:()=>SortTable,__namedExportsOrder:()=>__namedExportsOrder,default:()=>tables_stories});var react=__webpack_require__("./node_modules/react/index.js"),table=__webpack_require__("./node_modules/antd/es/table/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const CommonTable=_ref=>{let{data}=_ref;const[selectedRowKeys,setSelectedRowKeys]=(0,react.useState)([]),rowSelection={selectedRowKeys,onChange:newSelectedRowKeys=>{setSelectedRowKeys(newSelectedRowKeys)}};return(0,jsx_runtime.jsx)(table.A,{rowSelection:{type:"checkbox",...rowSelection},columns:[{title:"Станция GNSS",dataIndex:"name",key:"name"},{title:"БЛА",dataIndex:"age",key:"age"},{title:"Камеры",dataIndex:"address",key:"address"}],dataSource:data,rowKey:"key"})},commonTable=CommonTable;CommonTable.__docgenInfo={description:"",methods:[],displayName:"CommonTable"};var HolderOutlined=__webpack_require__("./node_modules/@ant-design/icons/es/icons/HolderOutlined.js"),core_esm=__webpack_require__("./node_modules/@dnd-kit/core/dist/core.esm.js"),modifiers_esm=__webpack_require__("./node_modules/@dnd-kit/modifiers/dist/modifiers.esm.js"),sortable_esm=__webpack_require__("./node_modules/@dnd-kit/sortable/dist/sortable.esm.js"),utilities_esm=__webpack_require__("./node_modules/@dnd-kit/utilities/dist/utilities.esm.js"),es_button=__webpack_require__("./node_modules/antd/es/button/index.js");const RowContext=react.createContext({}),DragHandle=()=>{const{setActivatorNodeRef,listeners}=(0,react.useContext)(RowContext);return(0,jsx_runtime.jsx)(es_button.Ay,{type:"text",size:"small",icon:(0,jsx_runtime.jsx)(HolderOutlined.A,{}),style:{cursor:"move"},ref:setActivatorNodeRef,...listeners})},columns=[{key:"sort",align:"center",width:80,render:()=>(0,jsx_runtime.jsx)(DragHandle,{})},{title:"Станция GNSS",dataIndex:"name",key:"name"},{title:"БЛА",dataIndex:"age",key:"age"},{title:"Камеры",dataIndex:"address",key:"address"}],initialData=[{key:"1",name:"GNSS",age:"DN",address:"SM"},{key:"2",name:"GNSS",age:"DN",address:"SM"},{key:"3",name:"GNSS",age:"DN",address:"SM"}],Row=props=>{const{attributes,listeners,setNodeRef,setActivatorNodeRef,transform,transition,isDragging}=(0,sortable_esm.gl)({id:props["data-row-key"]}),style=Object.assign(Object.assign(Object.assign({},props.style),{transform:utilities_esm.Ks.Translate.toString(transform),transition}),isDragging?{position:"relative",zIndex:9999}:{}),contextValue=(0,react.useMemo)((()=>({setActivatorNodeRef,listeners})),[setActivatorNodeRef,listeners]);return(0,jsx_runtime.jsx)(RowContext.Provider,{value:contextValue,children:(0,jsx_runtime.jsx)("tr",{...props,ref:setNodeRef,style,...attributes})})},TableWithDraggableRow=()=>{const[dataSource,setDataSource]=react.useState(initialData);return(0,jsx_runtime.jsx)(core_esm.Mp,{modifiers:[modifiers_esm.FN],onDragEnd:_ref=>{let{active,over}=_ref;active.id!==(null==over?void 0:over.id)&&setDataSource((prevState=>{const activeIndex=prevState.findIndex((record=>record.key===(null==active?void 0:active.id))),overIndex=prevState.findIndex((record=>record.key===(null==over?void 0:over.id)));return(0,sortable_esm.be)(prevState,activeIndex,overIndex)}))},children:(0,jsx_runtime.jsx)(sortable_esm.gB,{items:dataSource.map((i=>i.key)),strategy:sortable_esm._G,children:(0,jsx_runtime.jsx)(table.A,{rowKey:"key",components:{body:{row:Row}},columns,dataSource})})})},tableWithDraggableRow=TableWithDraggableRow;TableWithDraggableRow.__docgenInfo={description:"",methods:[],displayName:"TableWithDraggableRow"};const tableWithFilter_columns=[{title:"Станция GNSS",dataIndex:"name",filters:[{text:"Joe",value:"Joe"},{text:"Категория 1",value:"Category 1",children:[{text:"GNSS",value:"Yellow"},{text:"GNSS",value:"Pink"}]},{text:"Категория 2",value:"Category 2",children:[{text:"GNSS",value:"Green"},{text:"GNSS",value:"Black"}]}],filterMode:"tree",filterSearch:!0,onFilter:(value,record)=>record.name.includes(value),width:"30%"},{title:"БЛА",dataIndex:"age"},{title:"Камеры",dataIndex:"address",filters:[{text:"GNSS",value:"London"},{text:"GNSS",value:"New York"},{text:"GNSS",value:"Sydney"}],onFilter:(value,record)=>record.address.startsWith(value),filterSearch:!0,width:"40%"}],data=[{key:"1",name:"GNSS",age:"DN",address:"SM"},{key:"2",name:"GNSS",age:"DN",address:"SM"},{key:"3",name:"GNSS",age:"DN",address:"SM"}],onChange=(pagination,filters,sorter,extra)=>{console.log("params",pagination,filters,sorter,extra)},TableWithFilter=()=>(0,jsx_runtime.jsx)(table.A,{columns:tableWithFilter_columns,dataSource:data,onChange}),tableWithFilter=TableWithFilter;TableWithFilter.__docgenInfo={description:"",methods:[],displayName:"TableWithFilter"};const tableWithPagination_columns=[{title:"Станция GNSS",dataIndex:"name",key:"name"},{title:"БЛА",dataIndex:"age",key:"age"},{title:"Камеры",dataIndex:"address",key:"address"}],dataSource=Array.from({length:46}).map(((_,i)=>({key:i,name:`Станция ${i}`,age:`БЛА ${i}`,address:`Камера ${i}`}))),TableWithPagination=()=>{const[selectedRowKeys,setSelectedRowKeys]=(0,react.useState)([]),rowSelection={selectedRowKeys,onChange:newSelectedRowKeys=>{console.log("selectedRowKeys changed: ",newSelectedRowKeys),setSelectedRowKeys(newSelectedRowKeys)},selections:[table.A.SELECTION_ALL,table.A.SELECTION_INVERT,table.A.SELECTION_NONE,{key:"odd",text:"Select Odd Row",onSelect:changeableRowKeys=>{let newSelectedRowKeys=[];newSelectedRowKeys=changeableRowKeys.filter(((_,index)=>index%2==0)),setSelectedRowKeys(newSelectedRowKeys)}},{key:"even",text:"Select Even Row",onSelect:changeableRowKeys=>{let newSelectedRowKeys=[];newSelectedRowKeys=changeableRowKeys.filter(((_,index)=>index%2!=0)),setSelectedRowKeys(newSelectedRowKeys)}}]};return(0,jsx_runtime.jsx)(table.A,{rowSelection,columns:tableWithPagination_columns,dataSource})},tableWithPagination=TableWithPagination;TableWithPagination.__docgenInfo={description:"",methods:[],displayName:"TableWithPagination"};var SearchOutlined=__webpack_require__("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),input=__webpack_require__("./node_modules/antd/es/input/index.js"),space=__webpack_require__("./node_modules/antd/es/space/index.js"),main=__webpack_require__("./node_modules/react-highlight-words/dist/main.js"),main_default=__webpack_require__.n(main);const tableWithSearch_data=[{key:"1",name:"Станция GNSS",age:32,address:"42"},{key:"2",name:"Станция GNSS",age:42,address:"42"},{key:"3",name:"Станция GNSS",age:32,address:"42"},{key:"4",name:"Станция GNSS",age:32,address:"42"}],TableWithSearch=()=>{const[searchText,setSearchText]=(0,react.useState)(""),[searchedColumn,setSearchedColumn]=(0,react.useState)(""),searchInput=(0,react.useRef)(null),handleSearch=(selectedKeys,confirm,dataIndex)=>{confirm(),setSearchText(selectedKeys[0]),setSearchedColumn(dataIndex)},getColumnSearchProps=dataIndex=>({filterDropdown:_ref=>{let{setSelectedKeys,selectedKeys,confirm,clearFilters,close}=_ref;return(0,jsx_runtime.jsxs)("div",{style:{padding:8},onKeyDown:e=>e.stopPropagation(),children:[(0,jsx_runtime.jsx)(input.A,{ref:searchInput,placeholder:`Search ${dataIndex}`,value:selectedKeys[0],onChange:e=>setSelectedKeys(e.target.value?[e.target.value]:[]),onPressEnter:()=>handleSearch(selectedKeys,confirm,dataIndex),style:{marginBottom:8,display:"block"}}),(0,jsx_runtime.jsxs)(space.A,{children:[(0,jsx_runtime.jsx)(es_button.Ay,{type:"primary",onClick:()=>handleSearch(selectedKeys,confirm,dataIndex),icon:(0,jsx_runtime.jsx)(SearchOutlined.A,{}),size:"small",style:{width:90},children:"Поиск"}),(0,jsx_runtime.jsx)(es_button.Ay,{onClick:()=>clearFilters&&(clearFilters=>{clearFilters(),setSearchText("")})(clearFilters),size:"small",style:{width:90},children:"сбросить"}),(0,jsx_runtime.jsx)(es_button.Ay,{type:"link",size:"small",onClick:()=>{close()},children:"закрыть"})]})]})},filterIcon:filtered=>(0,jsx_runtime.jsx)(SearchOutlined.A,{style:{color:filtered?"#1677ff":void 0}}),onFilter:(value,record)=>record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),filterDropdownProps:{onOpenChange(open){open&&setTimeout((()=>{var _a;return null===(_a=searchInput.current)||void 0===_a?void 0:_a.select()}),100)}},render:text=>searchedColumn===dataIndex?(0,jsx_runtime.jsx)(main_default(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[searchText],autoEscape:!0,textToHighlight:text?text.toString():""}):text}),columns=[Object.assign({title:"Name",dataIndex:"name",key:"name",width:"30%"},getColumnSearchProps("name")),Object.assign({title:"БЛА",dataIndex:"age",key:"age",width:"20%"},getColumnSearchProps("age")),Object.assign(Object.assign({title:"Камеры",dataIndex:"address",key:"address"},getColumnSearchProps("address")),{sorter:(a,b)=>a.address.length-b.address.length,sortDirections:["descend","ascend"]})];return(0,jsx_runtime.jsx)(table.A,{columns,dataSource:tableWithSearch_data})},tableWithSearch=TableWithSearch;TableWithSearch.__docgenInfo={description:"",methods:[],displayName:"TableWithSearch"};const tableWithSort_columns=[{title:"Станция",dataIndex:"name"},{title:"БЛА",dataIndex:"math",sorter:{compare:(a,b)=>a.math-b.math,multiple:2}},{title:"Камеры",dataIndex:"english",sorter:{compare:(a,b)=>a.english-b.english,multiple:1}}],tableWithSort_data=[{key:"1",name:"Станция GNSS",chinese:98,math:60,english:70},{key:"2",name:"Станция GNSS",chinese:98,math:66,english:89},{key:"3",name:"Станция GNSS",chinese:98,math:90,english:70},{key:"4",name:"Станция GNSS",chinese:88,math:99,english:89}],tableWithSort_onChange=(pagination,filters,sorter,extra)=>{console.log("params",pagination,filters,sorter,extra)},TableWithSort=()=>(0,jsx_runtime.jsx)(table.A,{columns:tableWithSort_columns,dataSource:tableWithSort_data,onChange:tableWithSort_onChange}),tableWithSort=TableWithSort;TableWithSort.__docgenInfo={description:"",methods:[],displayName:"TableWithSort"};const tables_stories={title:"antd/Tables",components:commonTable},Common=(args=>(0,jsx_runtime.jsx)(commonTable,{...args})).bind({}),DraggableTable=(args=>(0,jsx_runtime.jsx)(tableWithDraggableRow,{...args})).bind({}),FilterTable=(args=>(0,jsx_runtime.jsx)(tableWithFilter,{...args})).bind({}),PaginationTable=(args=>(0,jsx_runtime.jsx)(tableWithPagination,{...args})).bind({}),SearchTable=(args=>(0,jsx_runtime.jsx)(tableWithSearch,{...args})).bind({}),SortTable=(args=>(0,jsx_runtime.jsx)(tableWithSort,{...args})).bind({}),CommonArgs={data:[{key:"1",name:"GNSS",age:"DN",address:"SM"},{key:"2",name:"GNSS",age:"DN",address:"SM"},{key:"3",name:"GNSS",age:"DN",address:"SM"}]};Common.args=CommonArgs,DraggableTable.args=CommonArgs,FilterTable.args=CommonArgs,PaginationTable.args=CommonArgs,SearchTable.args=CommonArgs,SortTable.args=CommonArgs;const __namedExportsOrder=["Common","DraggableTable","FilterTable","PaginationTable","SearchTable","SortTable"];Common.parameters={...Common.parameters,docs:{...Common.parameters?.docs,source:{originalSource:"args => <CommonTable {...args} />",...Common.parameters?.docs?.source}}},DraggableTable.parameters={...DraggableTable.parameters,docs:{...DraggableTable.parameters?.docs,source:{originalSource:"args => <TableWithDraggableRow {...args} />",...DraggableTable.parameters?.docs?.source}}},FilterTable.parameters={...FilterTable.parameters,docs:{...FilterTable.parameters?.docs,source:{originalSource:"args => <TableWithFilter {...args} />",...FilterTable.parameters?.docs?.source}}},PaginationTable.parameters={...PaginationTable.parameters,docs:{...PaginationTable.parameters?.docs,source:{originalSource:"args => <TableWithPagination {...args} />",...PaginationTable.parameters?.docs?.source}}},SearchTable.parameters={...SearchTable.parameters,docs:{...SearchTable.parameters?.docs,source:{originalSource:"args => <TableWithSearch {...args} />",...SearchTable.parameters?.docs?.source}}},SortTable.parameters={...SortTable.parameters,docs:{...SortTable.parameters?.docs,source:{originalSource:"args => <TableWithSort {...args} />",...SortTable.parameters?.docs?.source}}}}}]);